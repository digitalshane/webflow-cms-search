"use strict";(()=>{(function(){function S(n,o){let a;return function(...d){clearTimeout(a),a=setTimeout(()=>n.apply(this,d),o)}}function m(){let n=document.querySelector('[data-tag="search"]'),o=document.querySelector('[data-tag="results"]'),a=document.querySelector('[data-tag="results-item"]');if(!n){console.warn("Webflow Search: No element with data-tag='search' found");return}if(!o){console.warn("Webflow Search: No element with data-tag='results' found");return}if(!a){console.warn("Webflow Search: No element with data-tag='results-item' found");return}let d=n.getAttribute("data-api-url")||window.location.origin,w=window.location.hostname.endsWith(".webflow.io"),b=n.getAttribute("data-api-path")||(w?"/api/search":"/app/api/search"),E=n.getAttribute("data-collections")||"all",T=parseInt(n.getAttribute("data-debounce")||"300",10);a.style.display="none";let l={apiUrl:d,apiPath:b,collections:E,debounceMs:T};async function g(t){if(!t.trim()){f();return}try{let e=new URL(l.apiPath,l.apiUrl);e.searchParams.set("q",t),e.searchParams.set("collections",l.collections);let r=await fetch(e.toString());if(!r.ok)throw new Error(`Search failed: ${r.status}`);let i=await r.json();y(i.results)}catch(e){console.error("Webflow Search error:",e),f()}}function f(){if(!o||!a)return;Array.from(o.children).forEach(e=>{e!==a&&e.remove()})}function y(t){!o||!a||(f(),t.length!==0&&t.forEach(e=>{let r=a.cloneNode(!0);r.style.display="",r.removeAttribute("data-tag");let i=r.querySelector('[data-tag="results-title"]');i&&(i.textContent=e.name);let u=r.querySelector('[data-tag="results-link"]');u&&(u.href=`/${e.slug}`,(!i||u===i)&&(u.textContent=e.name)),r.querySelectorAll("[data-field]").forEach(s=>{let c=s.getAttribute("data-field");if(c&&e.fieldData[c]!==void 0){let h=e.fieldData[c];s instanceof HTMLAnchorElement&&c.includes("url")?s.href=String(h):s instanceof HTMLImageElement&&c.includes("image")?s.src=String(h):s.textContent=String(h)}}),o.appendChild(r)}))}let v=S(t=>g(t),l.debounceMs);n.addEventListener("input",t=>{let e=t.target;v(e.value)});let p=n.closest("form");p&&p.addEventListener("submit",t=>{t.preventDefault(),g(n.value)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",m):m()})();})();
