"use strict";(()=>{(function(){function p(r,a){let o;return function(...u){clearTimeout(o),o=setTimeout(()=>r.apply(this,u),a)}}function g(){let r=document.querySelector('[data-tag="search"]'),a=document.querySelector('[data-tag="results"]'),o=document.querySelector('[data-tag="results-item"]');if(!r){console.warn("Webflow Search: No element with data-tag='search' found");return}if(!a){console.warn("Webflow Search: No element with data-tag='results' found");return}if(!o){console.warn("Webflow Search: No element with data-tag='results-item' found");return}let u=r.getAttribute("data-api-url")||window.location.origin,w=r.getAttribute("data-collections")||"all",b=parseInt(r.getAttribute("data-debounce")||"300",10);o.style.display="none";let d={apiUrl:u,collections:w,debounceMs:b};async function h(t){if(!t.trim()){f();return}try{let e=new URL("/api/search",d.apiUrl);e.searchParams.set("q",t),e.searchParams.set("collections",d.collections);let n=await fetch(e.toString());if(!n.ok)throw new Error(`Search failed: ${n.status}`);let i=await n.json();E(i.results)}catch(e){console.error("Webflow Search error:",e),f()}}function f(){if(!a||!o)return;Array.from(a.children).forEach(e=>{e!==o&&e.remove()})}function E(t){!a||!o||(f(),t.length!==0&&t.forEach(e=>{let n=o.cloneNode(!0);n.style.display="",n.removeAttribute("data-tag");let i=n.querySelector('[data-tag="results-title"]');i&&(i.textContent=e.name);let l=n.querySelector('[data-tag="results-link"]');l&&(l.href=`/${e.slug}`,(!i||l===i)&&(l.textContent=e.name)),n.querySelectorAll("[data-field]").forEach(s=>{let c=s.getAttribute("data-field");if(c&&e.fieldData[c]!==void 0){let m=e.fieldData[c];s instanceof HTMLAnchorElement&&c.includes("url")?s.href=String(m):s instanceof HTMLImageElement&&c.includes("image")?s.src=String(m):s.textContent=String(m)}}),a.appendChild(n)}))}let T=p(t=>h(t),d.debounceMs);r.addEventListener("input",t=>{let e=t.target;T(e.value)});let S=r.closest("form");S&&S.addEventListener("submit",t=>{t.preventDefault(),h(r.value)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g()})();})();
